# Interview Architecture - Visual Guide

## Current State (Before Refactor)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                    â”‚
â”‚    InterviewInterface.tsx (1730 lines)            â”‚
â”‚    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚                                                    â”‚
â”‚    â€¢ OpenAI Realtime connection                   â”‚
â”‚    â€¢ Gemini heuristic coaching                    â”‚
â”‚    â€¢ Video preview & recording                    â”‚
â”‚    â€¢ Audio processing                             â”‚
â”‚    â€¢ Live transcript rendering                    â”‚
â”‚    â€¢ Voice selection UI                           â”‚
â”‚    â€¢ Turn-taking indicators                       â”‚
â”‚    â€¢ Latency metrics                              â”‚
â”‚    â€¢ Question management                          â”‚
â”‚    â€¢ Timer & status                               â”‚
â”‚    â€¢ Controls (start/pause/end)                   â”‚
â”‚    â€¢ Camera permissions                           â”‚
â”‚    â€¢ Error handling                               â”‚
â”‚    â€¢ ... (everything in one file!)                â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Problems:
âŒ 1730 lines of coupled code
âŒ Hard to debug issues
âŒ Hard to add features
âŒ Hard to test
âŒ Only records camera feed
âŒ Basic heuristic coaching
```

---

## Future State (After Refactor)

### Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              InterviewContainer (~300 lines)                â”‚
â”‚              â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚
â”‚              â€¢ Orchestrates shared state                    â”‚
â”‚              â€¢ Manages recording lifecycle                  â”‚
â”‚              â€¢ Coordinates question context                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                            â”‚
        â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIInterviewPanelâ”‚      â”‚ InterviewHelperPanel â”‚
â”‚   (~400 lines)   â”‚      â”‚    (~400 lines)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚      â”‚                      â”‚
â”‚ OpenAI Realtime  â”‚      â”‚ Gemini 2.0 Live     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                  â”‚      â”‚                      â”‚
â”‚ â€¢ Voice Q&A      â”‚      â”‚ â€¢ Text coaching     â”‚
â”‚ â€¢ Audio playback â”‚      â”‚ â€¢ Question aware    â”‚
â”‚ â€¢ VAD detection  â”‚      â”‚ â€¢ Real-time analysisâ”‚
â”‚ â€¢ Current Q      â”‚      â”‚ â€¢ Silent guidance   â”‚
â”‚ â€¢ Audio viz      â”‚      â”‚ â€¢ Coaching signals  â”‚
â”‚                  â”‚      â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Shared Components        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â€¢ AudioVisualizer         â”‚
        â”‚ â€¢ AISpeakingAnimation     â”‚
        â”‚ â€¢ InterviewStatus         â”‚
        â”‚ â€¢ InterviewControls       â”‚
        â”‚ â€¢ CameraPermissionCheck   â”‚
        â”‚ â€¢ VideoPreview            â”‚
        â”‚ â€¢ RecordingIndicator      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                User Experience                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Video  â”‚     â”‚  Audio   â”‚    â”‚ Screen  â”‚
    â”‚ Camera â”‚     â”‚   Mic    â”‚    â”‚  Share  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ Canvas Compositorâ”‚
                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                 â”‚ â€¢ Full UI        â”‚
                 â”‚ â€¢ Webcam PiP     â”‚
                 â”‚ â€¢ Mixed audio    â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Azure Blob      â”‚
                 â”‚  Storage         â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Question Context Flow

```
1. AI asks question
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ "Tell me about your experience   â”‚
   â”‚  with React hooks..."            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â†’ Display to user (AI Panel)
              â”‚
              â””â”€â†’ Send to Gemini (Helper Panel)
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Context received:      â”‚
                  â”‚ - Question text        â”‚
                  â”‚ - Category: technical  â”‚
                  â”‚ - Expected: explanationâ”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. User responds (speech)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ "I've used hooks extensively..." â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â†’ OpenAI captures audio
              â”‚   â””â”€â†’ Generates transcript
              â”‚
              â””â”€â†’ Transcript to Gemini
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Analysis:              â”‚
                  â”‚ â€¢ Structure: good      â”‚
                  â”‚ â€¢ Suggest: add metrics â”‚
                  â”‚ â€¢ Signal: specificity  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ "ğŸ’¡ Consider mentioningâ”‚
                  â”‚  specific performance  â”‚
                  â”‚  metrics"              â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Recording Comparison

### Current (Camera Only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                â”‚
â”‚     [Webcam Feed]              â”‚
â”‚                                â”‚
â”‚     ğŸ‘¤ Candidate face only     â”‚
â”‚                                â”‚
â”‚     Audio: Candidate mic       â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Missing:
âŒ AI questions
âŒ Coaching signals
âŒ Screen shares
âŒ UI context
âŒ AI audio
```

### Future (Canvas Capture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Interview      â”‚  Interview Helper           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   â”‚                             â”‚
â”‚ ğŸ¤– AI: "Tell me   â”‚ ğŸ’¡ Coaching:               â”‚
â”‚    about React"   â”‚                             â”‚
â”‚                   â”‚ âœ“ Good start               â”‚
â”‚ â•‘ â•‘â•‘ â•‘ â•‘â•‘        â”‚ ğŸ’¡ Add specific metrics    â”‚
â”‚                   â”‚ âš ï¸ Keep it concise         â”‚
â”‚ [Your Audio] â–“â–“â–‘â–‘ â”‚                             â”‚
â”‚                   â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                             â”‚
â”‚ â”‚  [Webcam]    â”‚  â”‚   ğŸ• 12:34                 â”‚
â”‚ â”‚  Picture-in- â”‚  â”‚   Recording: Full UI       â”‚
â”‚ â”‚  Picture     â”‚  â”‚                             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Includes:
âœ… Full interview UI
âœ… Questions displayed
âœ… Coaching signals
âœ… Webcam PiP
âœ… Screen shares (optional)
âœ… Mixed audio (candidate + AI)
âœ… Complete context
```

---

## Migration Path

### Phase 1: Extract Components (Week 1)

```
Before:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InterviewInterface.tsx (1730 L)   â”‚
â”‚ â€¢ Everything embedded              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InterviewInterface.tsx (1500 L)   â”‚
â”‚ â€¢ Uses extracted components        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â†’ shared/AudioVisualizer
             â”œâ”€â†’ shared/AISpeakingAnimation
             â”œâ”€â†’ shared/InterviewStatus
             â”œâ”€â†’ shared/InterviewControls
             â”œâ”€â†’ shared/CameraPermissionCheck
             â”œâ”€â†’ shared/VideoPreview
             â””â”€â†’ shared/RecordingIndicator

âœ… No breaking changes
âœ… Foundation for refactor
âœ… Components testable in isolation
```

### Phase 2: Split Architecture (Week 2-3)

```
Before (Phase 1):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InterviewInterface.tsx (1500 L)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After (Phase 2):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InterviewContainer (300 L)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ AIInterview    â”‚ Helper Panel   â”‚â”‚
â”‚ â”‚ Panel (400 L)  â”‚ (400 L)        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Clean separation
âœ… Independent testing
âœ… Parallel development enabled
```

### Phase 3: Enhanced Features (Week 4-5)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InterviewContainer                   â”‚
â”‚                                      â”‚
â”‚ NEW: Canvas Recording Manager        â”‚
â”‚ â€¢ Full UI capture                    â”‚
â”‚ â€¢ Webcam PiP                         â”‚
â”‚ â€¢ Audio mixing                       â”‚
â”‚ â€¢ Screen share support               â”‚
â”‚                                      â”‚
â”‚ NEW: Gemini 2.0 Intelligent Coach   â”‚
â”‚ â€¢ LLM-based analysis                 â”‚
â”‚ â€¢ Question context aware             â”‚
â”‚ â€¢ Real-time coaching                 â”‚
â”‚ â€¢ Text-only mode                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Enhanced recording
âœ… Intelligent coaching
âœ… Can work in parallel
âœ… Feature flags for safety
```

---

## Benefits Summary

### For Developers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component Size Reduction                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Before: 1730 lines (1 file)            â”‚
â”‚ After:  ~300 + 400 + 400 = 1100 lines  â”‚
â”‚         (3 focused files)               â”‚
â”‚                                         â”‚
â”‚ Complexity: -60% âœ“                     â”‚
â”‚ Maintainability: +150% âœ“               â”‚
â”‚ Development Speed: +30% âœ“              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### For Users (Candidates)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Clearer interview interface           â”‚
â”‚ â€¢ Better coaching (Gemini 2.0 LLM)     â”‚
â”‚ â€¢ No distracting live transcript       â”‚
â”‚ â€¢ Simpler setup (no voice selection)   â”‚
â”‚ â€¢ Better performance                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### For Users (Recruiters)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Complete interview context            â”‚
â”‚ â€¢ See questions + responses + coaching  â”‚
â”‚ â€¢ Better assessment data                â”‚
â”‚ â€¢ Screen share recordings (if used)    â”‚
â”‚ â€¢ Mixed audio (candidate + AI)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Risk Mitigation Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Risk Management                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Refactor Breaks Existing                        â”‚
â”‚ â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘ HIGH IMPACT                          â”‚
â”‚ Mitigation:                                      â”‚
â”‚ âœ“ Keep legacy component as fallback             â”‚
â”‚ âœ“ Feature flags for gradual rollout             â”‚
â”‚ âœ“ Comprehensive testing                          â”‚
â”‚                                                  â”‚
â”‚ Canvas Performance Issues                        â”‚
â”‚ â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘ MEDIUM IMPACT                        â”‚
â”‚ Mitigation:                                      â”‚
â”‚ âœ“ Adaptive quality settings                      â”‚
â”‚ âœ“ Fallback to camera-only                        â”‚
â”‚ âœ“ Performance profiling                          â”‚
â”‚                                                  â”‚
â”‚ Gemini API Instability                          â”‚
â”‚ â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘ MEDIUM IMPACT                        â”‚
â”‚ Mitigation:                                      â”‚
â”‚ âœ“ Feature flag to disable                        â”‚
â”‚ âœ“ Graceful fallback to heuristics                â”‚
â”‚ âœ“ Interview continues without coaching           â”‚
â”‚                                                  â”‚
â”‚ Audio-Video Sync Drift                          â”‚
â”‚ â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘ MEDIUM IMPACT                        â”‚
â”‚ Mitigation:                                      â”‚
â”‚ âœ“ Single MediaRecorder source                    â”‚
â”‚ âœ“ Regular sync checks                            â”‚
â”‚ âœ“ Jitter buffer + crossfade                      â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Success Criteria Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Success Metrics                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Component Size                                   â”‚
â”‚ Before: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1730 lines          â”‚
â”‚ After:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  ~500 lines avg    â”‚
â”‚ Target: <500 lines per component âœ“               â”‚
â”‚                                                  â”‚
â”‚ Audio Latency                                    â”‚
â”‚ Current: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ ~600ms                       â”‚
â”‚ Target:  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ <500ms âœ“                    â”‚
â”‚                                                  â”‚
â”‚ Coaching Latency                                 â”‚
â”‚ Current: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ ~900ms (heuristic)          â”‚
â”‚ Target:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ <700ms (Gemini 2.0) âœ“      â”‚
â”‚                                                  â”‚
â”‚ Developer Velocity                               â”‚
â”‚ Before:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 10 days/feature             â”‚
â”‚ After:   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 7 days/feature (-30%) âœ“    â”‚
â”‚                                                  â”‚
â”‚ Test Coverage                                    â”‚
â”‚ Before:  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ ~40%                        â”‚
â”‚ After:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ >80% âœ“                      â”‚
â”‚                                                  â”‚
â”‚ Recording Context                                â”‚
â”‚ Before:  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ Camera only (30%)           â”‚
â”‚ After:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ Full UI capture (90%) âœ“    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Quick Reference

### Story Priority Order

```
1ï¸âƒ£  EP3-S15 (Week 1)
    Extract Reusable Components
    â±ï¸ 3 story points
    ğŸ¯ Foundation for all other work

2ï¸âƒ£  EP3-S12 (Week 2-3)
    Split-Panel Architecture
    â±ï¸ 8 story points
    ğŸ¯ Core refactor

3ï¸âƒ£  EP3-S13 + EP3-S14 (Week 4-5, parallel)
    Canvas Recording + Gemini Coaching
    â±ï¸ 5 + 5 = 10 story points
    ğŸ¯ Enhanced features
```

### Key Files

```
Stories:
  docs/stories/ep3-s12-split-panel-interview-refactor.md
  docs/stories/ep3-s13-canvas-recording-implementation.md
  docs/stories/ep3-s14-gemini-text-only-coach.md
  docs/stories/ep3-s15-extract-reusable-components.md
  docs/stories/interview-refactoring-plan-summary.md (this!)

Current Implementation:
  src/components/interview/InterviewInterface.tsx (1730 lines)
  src/services/ai/realtimeWebSocket.ts
  src/services/ai/geminiLiveClient.ts

Epic Index:
  docs/stories/epic-3-ai-interview-system.md
```

---

**Prepared By:** Winston (Architect)  
**Last Updated:** 2025-11-04
